load("R:/Shriver_Lab/PJspread/evaluate_out_of_sample/35y_insample_predictions/median_predictions_for_mapping/in_sample_35y_base_90_credible_upper.csv")
load("R:/Shriver_Lab/PJspread/evaluate_out_of_sample/35y_insample_predictions/35y_insample_predictions_5y_average_initial.RData")
# load libraries
library(tidyverse)
library(cowplot)
# ------------------ Predicted median and credible intervals ------------
# N
base.pred = for.base.N$predOut
topo.pred = for.topo.N$predOut
clim.pred = for.clim.N$predOut
topoclim.pred = for.topoclim.N$predOut
## save median predictions and calculate crediable intervals
med.pred.base <- apply(base.pred, MARGIN = c(1,2), FUN = median)
low.pred.base <- apply(base.pred, MARGIN = c(1,2), FUN = quantile, 0.05) # low
up.pred.base <- apply(base.pred, MARGIN = c(1,2), FUN = quantile, 0.95)
# save mediam pixel-year predicted cover
write.csv(med.pred.base, "R:/Shriver_Lab/PJspread/evaluate_out_of_sample/35y_insample_predictions/median_predictions_for_mapping/in_sample_35y_base_median_5y_avg_init.csv")
# save  pixel-year predicted cover
write.csv(low.pred.base, "R:/Shriver_Lab/PJspread/evaluate_out_of_sample/35y_insample_predictions/median_predictions_for_mapping/in_sample_35y_base_90_credible_lower_5y_avg_init.csv")
# save mediam pixel-year predicted cover
write.csv(up.pred.base, "R:/Shriver_Lab/PJspread/evaluate_out_of_sample/35y_insample_predictions/median_predictions_for_mapping/in_sample_35y_base_90_credible_upper_5y_avg_init.csv")
